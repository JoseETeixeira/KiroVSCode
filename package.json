{
  "name": "kiro-copilot-extension",
  "displayName": "Kiro-Style Copilot",
  "description": "A VSCode extension that adds Kiro-style Vibe Coding and Spec modes to GitHub Copilot",
  "version": "0.1.15",
  "publisher": "JosEduardoTeixeira",
  "engines": {
    "vscode": "^1.85.0"
  },
  "repository": {
    "url": "https://github.com/JoseETeixeira/KiroVSCode"
  },
  "categories": [
    "AI",
    "Chat",
    "Programming Languages"
  ],
  "activationEvents": [
    "onStartupFinished"
  ],
  "main": "./out/extension.js",
  "contributes": {
    "commands": [
      {
        "command": "kiro-copilot.switchToVibeMode",
        "title": "Kiro: Switch to Vibe Coding Mode"
      },
      {
        "command": "kiro-copilot.switchToSpecMode",
        "title": "Kiro: Switch to Spec Mode"
      },
      {
        "command": "kiro-copilot.openModeSelector",
        "title": "Kiro: Select Coding Mode"
      },
      {
        "command": "kiro-copilot.startTaskFromFile",
        "title": "Kiro: Start Task from Current File"
      },
      {
        "command": "kiro-copilot.deleteSpec",
        "title": "Kiro: Delete Spec"
      },
      {
        "command": "kiro-copilot.enableAutonomy",
        "title": "Kiro: Enable Autonomy"
      },
      {
        "command": "kiro-copilot.executeNextAutonomously",
        "title": "Kiro: Execute Next Task Autonomously"
      },
      {
        "command": "kiro-copilot.retryAutonomously",
        "title": "Kiro: Retry Task Autonomously"
      }
    ],
    "configuration": {
      "title": "Kiro Copilot",
      "properties": {
        "kiroCopilot.mode": {
          "type": "string",
          "default": "vibe",
          "enum": [
            "vibe",
            "spec"
          ],
          "enumDescriptions": [
            "Vibe Coding - Chat first, then build. Explore ideas and iterate as you discover needs.",
            "Spec - Plan first, then build. Create requirements and design before coding starts."
          ],
          "description": "Current coding mode",
          "scope": "window"
        },
        "kiroCopilot.promptsPath": {
          "type": "string",
          "default": "",
          "description": "Custom path to prompts directory. Leave empty to use default locations (extension prompts → user prompts → workspace .kiro/prompts)",
          "scope": "resource"
        },
        "kiroCopilot.autoDetectTasks": {
          "type": "boolean",
          "default": true,
          "description": "Automatically scan workspace for tasks.md files and show them in Task Context view",
          "scope": "window"
        },
        "kiroCopilot.specsDirectory": {
          "type": "string",
          "default": ".kiro/specs",
          "description": "Directory where spec folders are stored (relative to workspace root)",
          "scope": "resource"
        },
        "kiroCopilot.steeringDirectory": {
          "type": "string",
          "default": ".kiro/steering",
          "description": "Directory where steering files are stored (relative to workspace root)",
          "scope": "resource"
        },
        "kiroCopilot.taskScanDepth": {
          "type": "number",
          "default": 10,
          "minimum": 1,
          "maximum": 20,
          "description": "Maximum directory depth to scan for tasks.md files",
          "scope": "window"
        },
        "kiroCopilot.enableLogging": {
          "type": "boolean",
          "default": false,
          "description": "Enable detailed logging to the Output panel for debugging",
          "scope": "window"
        },
        "kiroCopilot.taskStatusIcons": {
          "type": "object",
          "default": {
            "pending": "circle-outline",
            "completed": "check",
            "failed": "error"
          },
          "description": "VS Code icon IDs for different task statuses",
          "properties": {
            "pending": {
              "type": "string",
              "description": "Icon for pending tasks"
            },
            "completed": {
              "type": "string",
              "description": "Icon for completed tasks"
            },
            "failed": {
              "type": "string",
              "description": "Icon for failed tasks"
            }
          },
          "scope": "window"
        },
        "kiroCopilot.defaultLanguageModel": {
          "type": "string",
          "default": "openai/gpt-5",
          "enum": [
            "openai/gpt-5",
            "copilot-gpt-3.5-turbo"
          ],
          "enumDescriptions": [
            "GPT-5 - Most capable model for complex tasks",
            "GPT-3.5 Turbo - Faster, good for simple tasks"
          ],
          "description": "Preferred language model for @kiro chat participant",
          "scope": "window"
        },
        "kiroCopilot.showModeInStatusBar": {
          "type": "boolean",
          "default": true,
          "description": "Show current coding mode in the status bar",
          "scope": "window"
        },
        "kiroCopilot.autoRefreshTaskContext": {
          "type": "boolean",
          "default": true,
          "description": "Automatically refresh Task Context view when tasks.md files change",
          "scope": "window"
        },
        "kiroCopilot.excludePatterns": {
          "type": "array",
          "default": [
            "**/node_modules/**",
            "**/dist/**",
            "**/out/**",
            "**/.git/**",
            "**/vendor/**"
          ],
          "description": "Glob patterns to exclude when scanning for tasks.md files",
          "items": {
            "type": "string"
          },
          "scope": "resource"
        }
      }
    },
    "viewsContainers": {
      "activitybar": [
        {
          "id": "kiro-copilot",
          "title": "Kiro Assistant",
          "icon": "resources/kiro-icon.svg"
        }
      ]
    },
    "views": {
      "kiro-copilot": [
        {
          "id": "kiro-copilot.modeSelector",
          "name": "Coding Mode"
        },
        {
          "id": "kiro-copilot.taskContext",
          "name": "Task Context"
        }
      ]
    },
    "menus": {
      "view/item/context": [
        {
          "command": "kiro-copilot.executeNextAutonomously",
          "when": "view == kiro-copilot.taskContext && viewItem =~ /spec-task-group:(ready|failed|cancelled)/",
          "group": "navigation@1"
        },
        {
          "command": "kiro-copilot.retryAutonomously",
          "when": "view == kiro-copilot.taskContext && viewItem =~ /spec-task-group:(ready|failed|cancelled)/",
          "group": "navigation@2"
        },
        {
          "command": "kiro-copilot.enableAutonomy",
          "when": "view == kiro-copilot.taskContext && viewItem =~ /spec-task-group:(consent-required|setup-required)/",
          "group": "navigation@3"
        },
        {
          "command": "kiro-copilot.deleteSpec",
          "when": "view == kiro-copilot.taskContext && viewItem =~ /spec-task-group:/",
          "group": "inline"
        }
      ]
    },
    "chatParticipants": [
      {
        "id": "kiro-copilot.assistant",
        "name": "kiro",
        "description": "Kiro-style AI assistant with Vibe and Spec modes",
        "isSticky": true,
        "commands": [
          {
            "name": "vibe",
            "description": "Switch to Vibe Coding mode - rapid exploration and testing"
          },
          {
            "name": "spec",
            "description": "Switch to Spec mode - plan requirements and design first"
          },
          {
            "name": "task",
            "description": "Start working on a task from tasks.md"
          }
        ]
      }
    ]
  },
  "scripts": {
    "vscode:prepublish": "npm run compile",
    "compile": "tsc -p ./",
    "watch": "tsc -watch -p ./",
    "pretest": "npm run compile && npm run lint",
    "lint": "eslint src --ext ts",
    "test": "node --test \"./out/test/**/*.test.js\""
  },
  "devDependencies": {
    "@types/vscode": "^1.85.0",
    "@types/node": "^20.x",
    "@typescript-eslint/eslint-plugin": "^6.15.0",
    "@typescript-eslint/parser": "^6.15.0",
    "eslint": "^8.56.0",
    "typescript": "^5.3.3"
  },
  "dependencies": {
    "markdown-it": "^14.0.0"
  }
}